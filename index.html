
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Feline Veterinary Quiz</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #4e89ff;
      --success: #4CAF50;
      --danger: #e74c3c;
      --bg: #f9fafb;
      --text: #222;
      --card-bg: #fff;
      --radius: 12px;
    }
    html, body {
      margin: 0;
      padding: 0;
      background: var(--bg);
      color: var(--text);
      font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    }
    .quiz-container {
      max-width: 820px;
      margin: 40px auto;
      background: var(--card-bg);
      border-radius: var(--radius);
      box-shadow: 0 8px 20px rgba(0,0,0,0.06);
      overflow: hidden;
      padding: 28px;
      animation: fadeIn 0.5s ease;
    }
    @keyframes fadeIn { from {opacity: 0; transform: translateY(16px);} to {opacity: 1; transform: translateY(0);} }

    h1 {
      font-size: 1.9rem;
      margin: 0 0 12px;
      text-align: center;
      color: var(--primary);
    }

    .top-row {
      display: grid;
      grid-template-columns: 1fr auto;
      gap: 12px;
      align-items: center;
      margin-top: 8px;
    }
    .meta {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      align-items: center;
    }
    .pill {
      background: #eef2ff;
      color: #2b3a67;
      padding: 6px 10px;
      border-radius: 999px;
      font-size: 0.9rem;
      font-weight: 600;
    }
    .timer {
      background: #fff4e5;
      color: #8a5a00;
    }

    .progress {
      width: 100%;
      height: 10px;
      background: #e5e7eb;
      border-radius: 5px;
      margin: 18px 0 22px;
      overflow: hidden;
    }
    .progress-bar {
      height: 100%;
      background: var(--primary);
      width: 0%;
      transition: width 0.3s ease;
    }

    .question {
      font-size: 1.35rem; /* larger and readable */
      font-weight: 700;
      margin-bottom: 16px;
      line-height: 1.45;
    }
    .options {
      display: grid;
      gap: 14px;
    }
    .option {
      background: #f2f4f7;
      padding: 16px 18px;
      border-radius: var(--radius);
      cursor: pointer;
      transition: all 0.2s ease;
      border: 2px solid transparent;
      font-size: 1.1rem;
      line-height: 1.4;
    }
    .option:hover { background: #e8f0ff; }
    .option.correct {
      border-color: var(--success);
      background: #e6f9ec;
    }
    .option.wrong {
      border-color: var(--danger);
      background: #fdecea;
    }
    .option.disabled { pointer-events: none; opacity: 0.98; }

    .divider {
      text-align: center;
      color: #5a6b8a;
      font-weight: 700;
      margin: 18px 0 6px;
      display: none;
    }
    .divider.show { display: block; }

    .row-actions {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 16px;
    }
    .tip { color: #6b7280; font-size: 0.9rem; }

    .next-btn, .restart-btn {
      display: inline-block;
      padding: 12px 22px;
      border-radius: var(--radius);
      border: none;
      background: var(--primary);
      color: #fff;
      font-weight: 700;
      cursor: pointer;
      transition: background 0.25s ease;
    }
    .next-btn:hover, .restart-btn:hover { background: #356ae6; }
    .next-btn:disabled { opacity: 0.6; cursor: not-allowed; }

    .hidden { display: none; }

    .score-section { text-align: center; }
    .score-section h2 {
      margin-bottom: 12px;
      color: var(--primary);
    }
    .breakdown {
      display: grid;
      gap: 10px;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      margin-top: 14px;
    }
    .break-pill {
      background: #f2f4f7;
      border-radius: var(--radius);
      padding: 10px;
      font-size: 0.95rem;
    }

    @media (max-width: 480px) {
      .question { font-size: 1.25rem; }
      .option { font-size: 1.05rem; }
    }
  </style>
</head>
<body>
  <div class="quiz-container">
    <h1>üêæ Feline Veterinary Quiz</h1>

    <div class="top-row">
      <div class="meta">
        <span class="pill" id="bandPill">Band: Beginner</span>
        <span class="pill">Q <span id="qNum">1</span>/<span id="qTotal">100</span></span>
        <span class="pill timer">‚è± <span id="timerVal">30</span>s</span>
      </div>
      <button id="newBtn" class="next-btn" type="button">New Game</button>
    </div>

    <div class="progress"><div class="progress-bar"></div></div>

    <div id="divider" class="divider">‚Äî Ramping up difficulty ‚Äî</div>

    <div id="quiz">
      <div id="question" class="question"></div>
      <div id="options" class="options"></div>

      <div class="row-actions">
        <div class="tip">Use keys A/B/C/D to answer, N for next</div>
        <button id="nextBtn" class="next-btn" disabled>Next ‚Üí</button>
      </div>
    </div>

    <div id="scoreSection" class="score-section hidden">
      <h2>Quiz Completed!</h2>
      <p id="scoreText"></p>
      <div id="breakdown" class="breakdown"></div>
      <button id="restartBtn" class="restart-btn">Restart</button>
    </div>
  </div>

  <script>
    // ========== DATA (from your C code) ==========
    const questions = [
"1. What is the minimum recommended age for first rabies vaccination in cats in Canada?",
"2. Which dental condition is most common in domestic cats?",
"3. Feline hypertrophic cardiomyopathy most commonly affects which heart chamber?",
"4. Which parasite is most commonly transmitted transplacentally in cats?",
"5. The most common cause of feline hyperthyroidism is?",
"6. Which antibiotic is contraindicated in cats due to esophageal strictures?",
"7. What vaccine is considered 'core' in Canadian cats?",
"8. In chronic kidney disease staging (IRIS), staging is primarily based on?",
"9. Which inhalant anesthetic is most commonly used in Canadian feline practice?",
"10. Acetaminophen toxicity in cats primarily affects?",
"11. The primary vector of Bartonella henselae (cat scratch disease) is?",
"12. Which feline blood type is most common in North America?",
"13. Which drug is used as the first-line treatment for feline hypertrophic cardiomyopathy?",
"14. Which feline retrovirus is associated with immunosuppression?",
"15. What is the typical lifespan of a feline red blood cell?",
"16. Which anesthetic agent should be avoided in cats with hypertrophic cardiomyopathy?",
"17. Which enzyme deficiency makes cats highly sensitive to certain drugs/toxins?",
"18. What is the most common clinical sign of feline asthma?",
"19. Which imaging modality best diagnoses portosystemic shunts in cats?",
"20. Which nutritional deficiency can occur in cats fed exclusively dog food?",
"21. Which vitamin deficiency in cats can cause retinal degeneration?",
"22. Which fluid choice is best for a cat with hypovolemic shock?",
"23. What is the recommended first-line drug for hypertensive cats?",
"24. Which antibiotic must never be given IV to cats due to fatal reaction?",
"25. In cats, which anesthetic agent provides analgesia but increases sympathetic tone?",
"26. Which core vaccine is typically combined with FHV-1 and FCV?",
"27. Best screening test for hyperthyroidism in cats?",
"28. Most sensitive early biomarker for feline CKD progression?",
"29. Which flea control is safe for cats?",
"30. Which parasite causes cutaneous larva migrans in humans?",
"31. FIP is caused by mutation of which virus?",
"32. Preferred treatment for feline hyperthyroidism in renal-compromised cats?",
"33. Which drug is a contraindication with tramadol due to serotonin syndrome risk?",
"34. Classic radiographic sign of feline asthma?",
"35. Best first test for suspected pleural effusion?",
"36. Common cause of urethral obstruction in male cats?",
"37. Best stabilization for blocked cat before anesthesia?",
"38. First-line antiemetic for feline nausea?",
"39. Which analgesic is safest for cats with CKD?",
"40. Which antibiotic is effective against Mycoplasma haemofelis?",
"41. Gold standard for diagnosing hyperthyroidism when total T4 equivocal?",
"42. Which test screens FeLV infection initially?",
"43. Which endocrine disease causes insulin resistance in cats?",
"44. Preferred insulin for newly diagnosed feline diabetes?",
"45. Most common urolith type in cats?",
"46. Which crystal forms in alkaline urine in cats?",
"47. Key dietary change to prevent FLUTD recurrences?",
"48. Which cardiomyopathy is most common in cats?",
"49. Which test estimates left atrial enlargement non-invasively?",
"50. Which anticoagulant is used for ATE risk in HCM cats?",
"51. Best imaging for biliary obstruction in cats?",
"52. Which enzyme is most liver-specific in cats?",
"53. Which disease is linked to triaditis in cats?",
"54. Best test for EPI in cats?",
"55. Which antibiotic causes retinal toxicity in cats at high doses?",
"56. Which antiviral is used for FHV-1 keratitis?",
"57. Preferred analgesia for moderate postoperative pain in cats?",
"58. Which sedative can cause significant bradycardia in cats?",
"59. Best reversal agent for dexmedetomidine?",
"60. Which induction agent preserves cardiovascular stability best?",
"61. Which emergency drug treats calcium channel blocker overdose?",
"62. Which electrolyte abnormality is typical in hypoadrenocorticism?",
"63. Best screening for proteinuria in cats?",
"64. Which test confirms hypertension-induced retinal detachment?",
"65. Mainstay therapy for idiopathic cystitis?",
"66. Which anticonvulsant is safest long-term in cats?",
"67. Which antibiotic class risks esophageal injury if dry-pilled?",
"68. Best first test for hemoabdomen?",
"69. Which drug is contraindicated in feline asthma?",
"70. Which vaccine can cause injection-site sarcomas rarely?",
"71. Preferred site for rabies vaccination in cats (Canada)?",
"72. Best test for early HCM detection in asymptomatic cats?",
"73. Safe opioid for severe pain in cats?",
"74. Which NSAID is labeled for cats (single dose)?",
"75. Nutritional requirement unique to cats?",
"76. Which antibiotic is effective for toxoplasmosis?",
"77. Which test confirms giardiasis?",
"78. Which drug is used to treat hypertrophic obstructive cardiomyopathy?",
"79. Which imaging best detects ureteral calculi?",
"80. Which therapy reduces ureteral obstruction in cats?",
"81. Which endocrine test confirms acromegaly?",
"82. Common cause of feline cholangitis?",
"83. Which lab abnormality suggests hepatic lipidosis?",
"84. Which tube is used for long-term enteral feeding?",
"85. Which antibiotic penetrates prostate tissue well?",
"86. Which anesthetic risk increases with anemia?",
"87. Which ECG change suggests hyperkalemia?",
"88. Best emergency treatment for hyperkalemia?",
"89. Which fluid is hypotonic and not for resuscitation?",
"90. Which drug reverses benzodiazepines?",
"91. Which antibiotic is contraindicated in young kittens (teeth/bone)?",
"92. Which test diagnoses FIV infection definitively?",
"93. Which cardiopulmonary parasite affects cats occasionally?",
"94. Which drug treats anaphylaxis acutely?",
"95. Which antibiotic is best for bite wound anaerobes?",
"96. Best imaging for nasal mass in cats?",
"97. Which tumor is linked to FeLV historically?",
"98. Which chemotherapy drug risks hemorrhagic cystitis?",
"99. Which drug treats hypertensive emergencies in cats IV?",
"100. Which therapy induces remission in insulin-resistant acromegalic cats?"
];
    const options = [
["8 weeks","12 weeks","16 weeks","6 months"],
["Tooth fractures","Gingivostomatitis","Tooth resorption","Periodontal abscess"],
["Left atrium","Right atrium","Left ventricle","Right ventricle"],
["Roundworm","Tapeworm","Hookworm","Giardia"],
["Carcinoma","Adenomatous hyperplasia","Iodine deficiency","Pituitary tumor"],
["Amoxicillin","Ciprofloxacin","Doxycycline","Clindamycin"],
["FIV","FeLV","Rabies","Chlamydia"],
["SDMA level","Creatinine","USG","Blood pressure"],
["Sevoflurane","Isoflurane","Halothane","Nitrous oxide"],
["Liver","Kidneys","Spleen","Pancreas"],
["Ticks","Mosquitoes","Fleas","Lice"],
["Type A","Type B","Type AB","Type C"],
["Furosemide","Pimobendan","Atenolol","Enalapril"],
["FeLV","FIV","FIP","FCV"],
["30 days","60 days","90 days","120 days"],
["Ketamine","Propofol","Alfaxalone","Midazolam"],
["CYP3A4","Glucuronyl transferase","Monoamine oxidase","Cholinesterase"],
["Sneezing","Coughing","Vomiting","Wheezing"],
["X-ray","CT angiography","MRI","Ultrasound"],
["Vitamin B12","Calcium","Taurine","Iron"],
["Vitamin A","Vitamin D","Taurine","Vitamin E"],
["0.9% NaCl","Lactated Ringers","Plasma","Dextrose 5%"],
["Atenolol","Amlodipine","Enalapril","Hydralazine"],
["Penicillin","Cefovecin","Doxycycline","Procaine Pen G"],
["Propofol","Ketamine","Midazolam","Isoflurane"],
["Panleukopenia","Calicivirus","Chlamydia","Bordetella"],
["Free T4","Total T4","TSH","T3 uptake"],
["SDMA","Creatinine","BUN","USG"],
["Permethrin","Fipronil (cat)","Organophosphate","Amitraz"],
["Hookworm","Roundworm","Whipworm","Tapeworm"],
["FeLV","FCoV","FCV","FHV-1"],
["I-131","Methimazole","Thyroidectomy","Low-iodine diet"],
["SSRIs","Tramadol","Gabapentin","Maropitant"],
["Air bronchograms","Bronchial pattern","Alveolar pattern","Interstitial"],
["CT","Thoracocentesis","US","Radiographs"],
["Struvite","Mucus plug","Calcium oxalate","Urethral stone"],
["Induce anesthesia","Cystocentesis","Fluids + stabilize","Perineal massage"],
["Maropitant","Metoclopramide","Ondansetron","Diphenhydramine"],
["NSAIDs","Buprenorphine","Tramadol","Acetaminophen"],
["Amoxicillin","Doxycycline","Enrofloxacin","Azithromycin"],
["TSH","Free T4 by ED","Total T4","TRH stimulation"],
["IFA","ELISA","PCR","Western blot"],
["Addison's","Cushing's","Hyperthyroidism","Pheochromocytoma"],
["NPH","Glargine","Detemir","PZI"],
["Struvite","Calcium oxalate","Urate","Cystine"],
["Struvite","Oxalate","Urate","Cystine"],
["High sodium","High moisture","High protein","High magnesium"],
["DCM","RCM","HCM","ARVC"],
["Radiographs","NT-proBNP","ECG","LA:Ao echo"],
["Heparin","Clopidogrel","Aspirin","Warfarin"],
["Radiographs","Ultrasound","CT","MRI"],
["ALT","AST","ALP","GGT"],
["Pancreatitis","IBD","Hepatitis","All three"],
["TLI","cPLI","fPLI","B12 level"],
["Enrofloxacin","Doxycycline","Amikacin","Clindamycin"],
["Oseltamivir","Famciclovir","Acyclovir","Ganciclovir"],
["NSAID alone","Buprenorphine","Acetaminophen","Phenylbutazone"],
["Midazolam","Dexmedetomidine","Acepromazine","Ketamine"],
["Naloxone","Flumazenil","Atipamezole","Yohimbine"],
["Etomidate","Propofol","Ketamine","Thiopental"],
["Calcium gluconate","Atropine","Insulin/dextrose","Lipid emulsion"],
["Hypernatremia","Hypokalemia","Hyperkalemia","Hypoglycemia"],
["Dipstick","UPC ratio","Sediment exam","SSA test"],
["Indirect BP","Direct BP","Fundic exam","ECG"],
["Antibiotics","Steroids","Environmental mods","Diuretics"],
["Phenobarbital","Levetiracetam","Zonisamide","KBr"],
["Fluoroquinolones","Tetracyclines","Macrolides","Cephalosporins"],
["FAST scan","CT","Radiographs","Peritoneal tap"],
["Terbutaline","Furosemide","Prednisone","Albuterol"],
["Rabies","FeLV","FIV","Panleukopenia"],
["Right forelimb","Right hindlimb","Left forelimb","Left hindlimb"],
["Radiographs","NT-proBNP","Genetic test","Echocardiogram"],
["Fentanyl","Codeine","Meperidine","Loperamide"],
["Carprofen","Meloxicam","Robenacoxib","Aspirin"],
["Taurine","Vitamin C","Beta-carotene","Linoleic acid"],
["Clindamycin","Metronidazole","Penicillin","Amikacin"],
["Wet mount","Fecal ELISA","Zinc sulfate float","PCR panel"],
["Atenolol","Diltiazem","Pimobendan","Enalapril"],
["Radiographs","Ultrasound","Non-contrast CT","MRI"],
["Alpha blockers","Tamsulosin","Nifedipine","Stents/SUB"],
["Insulin level","IGF-1","ACTH stim","Dexamethasone"],
["E. coli","Ascending bacteria","Lymphocytic","Flukes"],
["Low ALT","High ALP","Low bilirubin","High CK"],
["Nasoenteric","Esophagostomy","PEG","Jejunostomy"],
["Penicillin","Enrofloxacin","Chloramphenicol","Amoxiclav"],
["Hypotension","Hypercapnia","Hypoxemia","All three"],
["Tall T waves","Short PR","Wide QRS","Osborn waves"],
["Calcium gluconate","Sodium bicarb","Insulin/dextrose","All three"],
["LRS","0.9% NaCl","D5W","Plasmalyte"],
["Naloxone","Flumazenil","Atipamezole","N-acetylcysteine"],
["Chloramphenicol","Tetracyclines","Fluoroquinolones","Aminoglycosides"],
["ELISA antibody","Western blot","PCR","Virus isolation"],
["Aelurostrongylus","Dirofilaria","Capillaria","Angiostrongylus"],
["Diphenhydramine","Epinephrine","Prednisone","Albuterol"],
["Clindamycin","Metronidazole","Doxycycline","Trimethoprim sulfa"],
["Radiographs","CT","MRI","Ultrasound"],
["Osteosarcoma","Lymphoma","SCC","MCT"],
["Cyclophosphamide","Doxorubicin","Vincristine","Lomustine"],
["Hydralazine","Labetalol","Nitroprusside","Esmolol"],
["Hypophysectomy","SRT (radiation)","Pasireotide","Cabergoline"]
];
    const keyLetters = [
'B','C','C','A','B','C','C','B','B','A',
'C','A','C','B','C','A','B','B','B','C',
'A','B','B','D','B','A','B','A','B','A',
'B','A','B','B','B','C','C','B','B','B',
'B','B','D','B','B','B','B','C','C','B',
'B','A','D','D','C','B','B','B','C','A',
'D','C','B','D','C','B','B','A','C','A',
'B','D','A','D','B','D','B','B','A','C',
'A','C','B','B','B','B','D','B','D','B',
'C','B','A','B','B','C','C','B','C','B'
];
    const answerKey = keyLetters.map(ch => ({A:0,B:1,C:2,D:3}[ch]));

    // 5 bands of 20
    const bands = [
      { name: 'Beginner', start: 0, end: 19 },
      { name: 'Intermediate', start: 20, end: 39 },
      { name: 'Advanced', start: 40, end: 59 },
      { name: 'Expert', start: 60, end: 79 },
      { name: 'Master', start: 80, end: 99 },
    ];

    // ========== STATE ==========
    const QUESTION_TIME = 30;
    let seq = []; // [{q, band}]
    let cursor = 0;
    let score = 0;
    let answered = false;
    let timeLeft = QUESTION_TIME;
    let timer = null;
    let bandScores = bands.map(() => ({ correct: 0, total: 0 }));

    // ========== DOM ==========
    const qEl = document.getElementById('question');
    const optionsEl = document.getElementById('options');
    const nextBtn = document.getElementById('nextBtn');
    const scoreSection = document.getElementById('scoreSection');
    const quizSection = document.getElementById('quiz');
    const scoreText = document.getElementById('scoreText');
    const progressBar = document.querySelector('.progress-bar');
    const restartBtn = document.getElementById('restartBtn');
    const qNumEl = document.getElementById('qNum');
    const qTotalEl = document.getElementById('qTotal');
    const timerValEl = document.getElementById('timerVal');
    const bandPill = document.getElementById('bandPill');
    const divider = document.getElementById('divider');
    const newBtn = document.getElementById('newBtn');
    const breakdown = document.getElementById('breakdown');

    qTotalEl.textContent = String(questions.length);

    // ========== HELPERS ==========
    function shuffle(arr) {
      for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
    }

    function buildSequence() {
      seq = [];
      bands.forEach((b, idx) => {
        const temp = [];
        for (let i = b.start; i <= b.end; i++) temp.push(i);
        shuffle(temp);
        seq.push(...temp.map(q => ({ q, band: idx })));
      });
      cursor = 0;
      score = 0;
      answered = false;
      timeLeft = QUESTION_TIME;
      bandScores = bands.map(() => ({ correct: 0, total: 0 }));
      divider.classList.remove('show');
    }

    function stopTimer() {
      if (timer) { clearInterval(timer); timer = null; }
    }
    function startTimer() {
      stopTimer();
      timeLeft = QUESTION_TIME;
      timerValEl.textContent = timeLeft;
      timer = setInterval(() => {
        timeLeft--;
        timerValEl.textContent = timeLeft;
        if (timeLeft <= 0) {
          stopTimer();
          timeoutReveal();
        }
      }, 1000);
    }

    function timeoutReveal() {
      if (answered) return;
      const { q } = seq[cursor];
      const correct = answerKey[q];
      Array.from(optionsEl.children).forEach((btn, i) => {
        btn.classList.add('disabled');
        if (i === correct) btn.classList.add('correct');
      });
      answered = true;
      nextBtn.disabled = false;
      bandScores[seq[cursor].band].total += 1;
    }

    function updateProgress() {
      const percent = (cursor / seq.length) * 100;
      progressBar.style.width = percent + '%';
    }

    function loadQuestion() {
      if (cursor >= seq.length) {
        return showScore();
      }

      const { q, band } = seq[cursor];
      const bandName = bands[band].name;
      bandPill.textContent = `Band: ${bandName}`;

      if (cursor > 0 && seq[cursor - 1].band !== band) {
        divider.classList.add('show');
      } else {
        divider.classList.remove('show');
      }

      qEl.textContent = questions[q].replace(/^\d+\.\s*/, '');
      optionsEl.innerHTML = '';

      options[q].forEach((opt, i) => {
        const btn = document.createElement('div');
        btn.className = 'option';
        btn.textContent = opt;
        btn.addEventListener('click', () => selectAnswer(i));
        optionsEl.appendChild(btn);
      });

      answered = false;
      nextBtn.disabled = true;

      qNumEl.textContent = String(cursor + 1);
      updateProgress();
      startTimer();
    }

    function selectAnswer(selected) {
      if (answered) return;
      stopTimer();
      const { q, band } = seq[cursor];
      const correct = answerKey[q];

      Array.from(optionsEl.children).forEach((btn, i) => {
        btn.classList.add('disabled');
        if (i === correct) btn.classList.add('correct');
        else if (i === selected) btn.classList.add('wrong');
      });

      bandScores[band].total += 1;
      if (selected === correct) {
        score++;
        bandScores[band].correct += 1;
      }

      answered = true;
      nextBtn.disabled = false;
    }

    function next() {
      if (!answered) return;
      cursor++;
      if (cursor < seq.length) {
        loadQuestion();
      } else {
        updateProgress();
        showScore();
      }
    }

    function showScore() {
      quizSection.classList.add('hidden');
      scoreSection.classList.remove('hidden');
      scoreText.textContent = `You scored ${score} out of ${questions.length}`;

      breakdown.innerHTML = '';
      bands.forEach((b, i) => {
        const s = bandScores[i];
        const pct = s.total ? Math.round((s.correct / s.total) * 100) : 0;
        const div = document.createElement('div');
        div.className = 'break-pill';
        div.innerHTML = `<strong>${b.name}</strong><br>${s.correct}/${s.total} (${pct}%)`;
        breakdown.appendChild(div);
      });
    }

    function restart() {
      scoreSection.classList.add('hidden');
      quizSection.classList.remove('hidden');
      buildSequence();
      loadQuestion();
    }

    // Keyboard shortcuts
    window.addEventListener('keydown', (e) => {
      const k = e.key.toLowerCase();
      const map = { a:0, b:1, c:2, d:3 };
      if (k in map) {
        const btn = optionsEl.children[map[k]];
        if (btn) btn.click();
      } else if (k === 'n') {
        nextBtn.click();
      }
    });

    nextBtn.addEventListener('click', next);
    restartBtn.addEventListener('click', restart);
    newBtn.addEventListener('click', restart);

    // Init
    buildSequence();
    loadQuestion();
  </script>
</body>
</html>
```
